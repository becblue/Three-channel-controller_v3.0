 # 项目名称
三通道切换箱控制系统

## 项目简介

这是一个三通道高压切换箱的主控制系统，该系统可以达到SIL3安全级别，双路冗余触发，双路状态反馈，状态OLED显示，系统内置看门狗，防止程序死机，外部电源异常监控，一路报警输出。三路内部设备温度监控，温度联动散热系统。并预留128M存储器、3路按键开关、RS485通讯端口（暂不开发此三部分功能）。

## 硬件配置（注意！！！以下配置已经再CUBEMX中完成，后续代码开发不需要重新配置）

MCU采用STM32F103RCT6  
外部8MHZ高速晶振
  OSC_IN -> OSC_IN
  OSC_OUT -> OSC_OUT

切换信号使能
 K1_EN -> PB9  下降沿使能，开启中断，优先级4
 K2_EN -> PB8  下降沿使能，开启中断，优先级4
 K3_EN -> PA15 下降沿使能，开启中断，优先级4

驱动继电器使能
K1_1_ON -> PC0  推挽输出,低电平使能，初始高电平，内部上拉，高速
K1_1_OFF -> PC1 推挽输出,低电平使能，初始高电平，内部上拉，高速
K2_1_ON -> PC2  推挽输出,低电平使能，初始高电平，内部上拉，高速
K2_1_OFF -> PC3 推挽输出,低电平使能，初始高电平，内部上拉，高速
K3_1_ON -> PC7  推挽输出,低电平使能，初始高电平，内部上拉，高速
K3_1_OFF -> PC6 推挽输出,低电平使能，初始高电平，内部上拉，高速
K1_2_ON -> PB12 推挽输出,低电平使能，初始高电平，内部上拉，高速
K1_2_OFF -> PA3 推挽输出,低电平使能，初始高电平，内部上拉，高速
K2_2_ON -> PA4  推挽输出,低电平使能，初始高电平，内部上拉，高速
K2_2_OFF -> PA5 推挽输出,低电平使能，初始高电平，内部上拉，高速
K3_2_ON -> PD2  推挽输出,低电平使能，初始高电平，内部上拉，高速
K3_2_OFF -> PA7 推挽输出,低电平使能，初始高电平，内部上拉，高速

驱动继电器状态反馈 
K1_1_STA -> PC4  输入，高电平有效，初始低电平，内部下拉，高速
K2_1_STA -> PC5  输入，高电平有效，初始低电平，内部下拉，高速
K3_1_STA -> PB0  输入，高电平有效，初始低电平，内部下拉，高速
K1_2_STA -> PB1  输入，高电平有效，初始低电平，内部下拉，高速
K2_2_STA -> PB10 输入，高电平有效，初始低电平，内部下拉，高速
K3_2_STA -> PB11 输入，高电平有效，初始低电平，内部下拉，高速

接触器状态反馈
SW1_STA -> PA8   输入，高电平有效，初始低电平，内部下拉，高速
SW2_STA -> PC9   输入，高电平有效，初始低电平，内部下拉，高速
SW3_STA -> PC8   输入，高电平有效，初始低电平，内部下拉，高速

外部电源监控
DC_CTRL -> PB5  上升沿使能，内部上拉，开启中断，优先级2

异常报警输出
ALARM -> PB4    推挽输出，低电平使能，初始高电平，内部上拉，高速

风扇控制
FAN_PWM -> PA6 使用TIM3的channel通道输出初始值为50%占空比的脉冲信号，Prescaler (PSC): 35// 预分频器 (72MHz/(35+1) = 2MHz)；Counter Period (ARR): 99// 自动重装载值  (2MHz/(99+1) = 20KHz)；Counter Mode: Up// 向上计数模式；Auto-reload preload: Enable  // 使能自动重装载预装载；Pulse: 50// 占空比50% (可根据需要调整)
FAN_SEN -> PC12 内置上拉，采用单位时间内检测到低电平脉冲数量方式计算出转速，计算公式：风扇转速(RPM) = (脉冲频率 × 60秒) ÷ 每转脉冲数，每一秒更新一次转速

报警蜂鸣器驱动
BEEP -> PB3    推挽输出，低电平有效，初始高电平，内部上拉，高速

NTC热敏电阻
NTC_1 -> PA0  ADC1_IN0,开启DMA通道并启用中断，优先级5，采样时间55.5.右对齐，连续扫描
NTC_2 -> PA1  ADC1_IN0,开启DMA通道并启用中断，优先级5，采样时间55.5.右对齐，连续扫描
NTC_3 -> PA2  ADC1_IN0,开启DMA通道并启用中断，优先级5，采样时间55.5.右对齐，连续扫描

OLED显示
采用I2C通讯
显示屏尺寸：2.42英寸
分辨率：128*64
控制芯片：SSD1309
显示颜色：白色
显示区域：55.01*27.49（mm）
工作电压：3.3V
参考规格书：见DOC文件夹中
             @2.42插接-ZJY242-2864ASWPG01.pdf
             @SSD1309.pdf
             @ZJY242I0400WG01.pdf
I2C1_SDA -> PB7 (连接到OLED显示屏SDA引脚)
I2C1_SCL -> PB6 (连接到OLED显示屏SCL引脚)

调试串口
USART3_TX -> PC10
USART3_RX -> PC11

RS485端口（暂不开发此功能）
USART1_TX -> PA9
USART1_RX -> PA10
RS485DE -> PA11  高电平发送，低电平接收，初始设置低电平，内置下拉电阻

外部存储存储器（暂不开发此功能）
采用SPI2接口，预分频系数16
参考规格书：见DOC文件夹中
             @W25Q128JVSIQ技术文档.pdf
SPI2_SCK -> PB13(连接到NOR FLASH CLK引脚)
SPI2_MISO -> PB14(连接到NOR FLASH DO引脚)
SPI2_MOSI -> PB15(连接到NOR FLASH DI引脚)

按键接口（暂不开发此功能）
KEY1 -> PC13  中断，下降沿使能，开启中断，优先级4
KEY2 -> PC14  中断，下降沿使能，开启中断，优先级4
KEY3 -> PC15  中断，下降沿使能，开启中断，优先级4


## 功能特性

主体工作流程：
系统上电后，OLED显示公司LOGO，维持2秒
开始进行时间为3秒的系统自检，OLED显示进度条
 自检内容：1、三路输入信号K1_EN、K2_EN、K3_EN均为高电平
          2、K1_1_STA、K1_2_STA、K2_1_STA、K2_2_STA、K3_1_STA、K3_2_STA、、SW1_STA、SW2_STA、SW3_STA均为低电平
          3、NTC温度均在60℃以下
自检结束后进入主循环。如自检异常，产生"N"异常标志

1 看门狗（IWDG）
预分频：64
重载值：3125
复位之间：5秒
喂狗时间：3秒

2、继电器驱动逻辑
触发条件真值表：



使能开启第一通道：
当K1_EN检测到电平下降沿后开始间隔50ms连续检测三次均为低电平，则触发中断。
中断动作：
    开始判定：
           1、检测K2_EN、K3_EN是否为高电平，如果是，则进行下一步判定，如果否，产生则产生"A"异常标志。
           2、K2_1_STA、K2_2_STA、K3_1_STA、K3_2_STA、SW2_STA、SW3_STA是否为低电平，如果是则进行下一个判定，如果否，哪个信号为高电平，则产生相对应的异常标志。
    以上两次判定均为是，则K1_1_ON、K1_2_ON同时输出一个时长为500ms的低电平脉冲，用来驱动外部的磁保持继电器吸合。

    延时500ms后开始判定：
           1、K1_1_STA、K1_2_STA、SW1_STA是否为高电平，如果是，则OLED显示目前切换箱状态为打开（详情参阅OLED显示部分说明），如果否，则输出相对应异常标志

使能开启第二通道：
当K2_EN检测到电平下降沿后开始间隔50ms连续检测三次均为低电平，则触发中断。
中断动作：
    开始判定：
          1、检测K1_EN、K3_EN是否为高电平，如果是，则进行下一步判定，如果否，则产生"A"异常标志。
          2、K1_1_STA、K1_2_STA、K3_1_STA、K3_2_STA、SW1_STA、SW3_STA是否为低电平，如果是则进行下一个判定，如果否，哪个信号为高电平，则产生相对应的异常标志。
   以上两次判定均为是，则K2_1_ON、K2_2_ON同时输出一个时长为500ms的低电平脉冲，用来驱动外部的磁保持继电器吸合。

    延时500ms后开始判定：
          1、K2_1_STA、K2_2_STA、SW2_STA是否为高电平，如果是，则OLED显示目前切换箱状态为打开（详情参阅OLED显示部分说明），如果否，则输出相对应异常标志。

使能开启第三通道：
当K3_EN检测到电平下降沿后开始间隔50ms连续检测三次均为低电平，则触发中断。
中断动作：
     开始判定：
          1、检测K1_EN、K2_EN是否为高电平，如果是，则进行下一步判定，如果否，则产生"A"异常标志。
          2、K1_1_STA、K1_2_STA、K2_1_STA、K2_2_STA、SW1_STA、SW2_STA是否为低电平，如果是则进行下一个判定，如果否，哪个信号为高电平，则产生相对应的异常标志。
     以上两次判定均为是，则K3_1_ON、K3_2_ON同时输出一个时长为500ms的低电平脉冲，用来驱动外部的磁保持继电器吸合。
    延时500ms后开始判定：
          1、K3_1_STA、K3_2_STA、SW3_STA是否为高电平，如果是，则OLED显示目前切换箱状态为打开（详情参阅OLED显示部分说明），如果否，则输出相对应异常标志。

使能关闭第一通道
当K1_EN检测到电平上升沿后开始间隔50ms连续检测三次均为高电平，则触发中断。
中断动作：
    K1_1_OFF、K1_2_OFF同时输出一个时长为500ms的低电平脉冲，用来驱动外部的磁保持继电器断开后
    延时500ms后开始判定：
           1、K1_1_STA、K1_2_STA、SW1_STA是否为低电平，如果是，则OLED显示目前切换箱状态为关闭（详情参阅OLED显示部分说明），如果否，则输出相对应异常标志

使能关闭第二通道
当K2_EN检测到电平上升沿后开始间隔50ms连续检测三次均为高电平，则触发中断。
中断动作：
    K2_1_OFF、K2_2_OFF同时输出一个时长为500ms的低电平脉冲，用来驱动外部的磁保持继电器断开后
    延时500ms后开始判定：
           1、K2_1_STA、K2_2_STA、SW2_STA是否为低电平，如果是，则OLED显示目前切换箱状态为关闭（详情参阅OLED显示部分说明），如果否，则输出相对应异常标志

使能关闭第二通道
当K3_EN检测到电平上升沿后开始间隔50ms连续检测三次均为高电平，则触发中断。
中断动作：
    K3_1_OFF、K3_2_OFF同时输出一个时长为500ms的低电平脉冲，用来驱动外部的磁保持继电器断开后
    延时500ms后开始判定：
           1、K3_1_STA、K3_2_STA、SW3_STA是否为低电平，如果是，则OLED显示目前切换箱状态为关闭（详情参阅OLED显示部分说明），如果否，则输出相对应异常标志
           
3、温度检测逻辑
    硬件电路
采用3.3V供电。
使用一个10KΩ电阻与一个10K B值3435的NTC热敏电阻串联分压，分压点电压作为ADC采集信号。
NTC热敏电阻的RT值请参考@NTC热敏电阻RT值.csv文件。
采集与计算
轮流检测ADC1的IN0、IN1、IN2三个通道的电压值。
将测量到的电压值通过查表法对比RT值后，对应到当前对应的温度值。
风扇控制逻辑
如果温度小于35℃，判定为正常温度，风扇PWM占空比设置为50%。
如果温度大于等于35℃，判定为高温状态，风扇PWM占空比提高至95%。
如果温度大于等于60℃，在保持风扇PWM占空比95%的同时，产生异常标志K、L、M（分别对应NTC_1、NTC_2、NTC_3温度异常）。
温度下降到上一级别的阈值以下时，风扇控制和异常标志恢复到上一级别的状态，但需要设置2℃的温度回差（即避免频繁切换）。
异常标志
K：NTC_1温度异常
L：NTC_2温度异常
M：NTC_3温度异常

4、报警逻辑
当检测到任何标志的异常标志位，则将该异常输出到OLED屏幕上，同时使能"异常报警输出"和"报警蜂鸣器驱动"
异常报警输出：
  无论何种异常标志，ALARM -> PB4引脚均连续输出低电平
报警蜂鸣器驱动：
A、N类异常输出时间间隔位1秒的脉冲
B~J类异常输出时间间隔位50ms的脉冲
K~M类异常输出持续低电平

报警解除
A异常解除条件：发生A异常时，在报警同时，持续检测K1_EN、K2_EN、K3_EN三路的状态，确保只能有一路处于低电平或三路均处于高电平时，报警解除。
B~J、N异常解除条件：当发生此类异常时，在报警同时，需要持续检测K1_EN、K2_EN、K3_EN、K1_1_STA、K1_2_STA、K2_1_STA、K2_2_STA、K3_1_STA、K3_2_STA、、SW1_STA、SW2_STA、SW3_STA各点状态，确保符合三路触发后条件后（参考触发条件真值表），警报解除
K~M异常解除条件：当温度回降到58（考虑到回差）后报警解除。



异常标志：
    A - K1_EN、K2_EN、K3_EN使能冲突
    B - K1_1_STA工作异常
    C - K2_1_STA工作异常
    D - K3_1_STA工作异常
    E - K1_2_STA工作异常
    F - K2_2_STA工作异常
    G - K3_2_STA工作异常
    H - SW1_STA工作异常
    I - SW2_STA工作异常
    J - SW3_STA工作异常
    K - NTC_1温度异常
    L - NTC_2温度异常
    M - NTC_3温度异常
    N - 自检异常

5、OLED显示
OLED显示
上电开始先显示公司LOGO维持3秒后开始进入系统自检界面

系统自检界面显示自检信息，并显示进度条

自检结束后，进入待机界面

待机界面分三部分：以横线分割出每个区域
1、异常信息显示区域
2、三个通道的状态区域
3、温度显示以及风扇转速显示区域





## 开发需求

### 1. 系统启动流程规则
- 上电显示公司LOGO必须维持2秒
- 系统自检必须持续3秒并显示进度条
- 自检必须检查：三路输入信号、所有状态反馈、温度检查
- 自检异常必须产生"N"标志

### 2. 继电器控制规则
- 所有信号检测必须采用50ms间隔连续3次检测机制
- 继电器驱动必须使用500ms低电平脉冲
- 必须严格执行通道互锁机制
- 状态检测必须在脉冲后500ms进行

### 3. 温度控制规则
- 温度<35℃时，风扇必须维持50%PWM
- 温度≥35℃时，风扇必须提升至95%PWM
- 温度≥60℃时，必须触发对应的K、L、M异常标志
- 必须实现2℃温度回差机制

### 4. 报警处理规则
- 异常报警输出（ALARM）必须为持续低电平
- 蜂鸣器报警规则：
  * A、N类异常：必须使用1秒间隔脉冲
  * B~J类异常：必须使用50ms间隔脉冲
  * K~M类异常：必须使用持续低电平

### 5. 报警解除规则
- A异常：必须确认只有一路低电平或全高电平
- B~J、N异常：必须符合触发条件真值表
- K~M异常：必须等待温度降至58℃以下

### 6. OLED显示规则
- 显示界面必须严格分为三个区域：
  * 异常信息显示区
  * 三通道状态区
  * 温度和风扇转速区

### 7. 看门狗配置规则
- 必须使用64预分频
- 必须使用3125重载值
- 必须保证3秒喂狗周期

### 8. 安全规则
- 必须确保通道互锁有效
- 必须实现双重继电器控制
- 必须实现完整的状态反馈检查
- 必须实现温度保护机制

## 项目目录结构

```
CORE/
├── INC/
│   ├── adc.h                  # ADC外设配置头文件
│   ├── alarm.h               # 报警系统头文件
│   ├── dma.h                 # DMA配置头文件
│   ├── fan_control.h         # 风扇控制头文件
│   ├── gpio.h                # GPIO配置头文件
│   ├── i2c.h                 # I2C配置头文件
│   ├── iwdg.h                # 独立看门狗配置头文件
│   ├── main.h                # 主程序头文件
│   ├── oled_display.h        # OLED显示控制头文件
│   ├── relay_control.h       # 继电器控制头文件
│   ├── spi.h                 # SPI配置头文件
│   ├── stm32f1xx_hal_conf.h  # HAL库配置头文件
│   ├── stm32f1xx_it.h       # 中断服务程序头文件
│   ├── switch_control.h      # 开关控制头文件
│   ├── temperature.h         # 温度监控头文件
│   ├── tim.h                 # 定时器配置头文件
│   └── usart.h               # 串口配置头文件
│
├── SRC/
│   ├── adc.c                 # ADC外设配置实现
│   ├── alarm.c               # 报警系统实现
│   ├── dma.c                 # DMA配置实现
│   ├── fan_control.c         # 风扇控制实现
│   ├── gpio.c                # GPIO配置实现
│   ├── i2c.c                 # I2C配置实现
│   ├── iwdg.c                # 独立看门狗配置实现
│   ├── main.c                # 主程序实现
│   ├── oled_display.c        # OLED显示控制实现
│   ├── relay_control.c       # 继电器控制实现
│   ├── spi.c                 # SPI配置实现
│   ├── stm32f1xx_hal_msp.c   # HAL库MSP回调函数实现
│   ├── stm32f1xx_it.c       # 中断服务程序实现
│   ├── switch_control.c      # 开关控制实现
│   ├── system_stm32f1xx.c    # 系统配置实现
│   ├── temperature.c         # 温度监控实现
│   ├── tim.c                 # 定时器配置实现
│   └── usart.c               # 串口配置实现
│
│
├── DOC/               # 文档目录
│   ├── 2.42插接-ZJY242-2864ASWPG01.pdf    # OLED显示屏规格说明
│   ├── SSD1309.pdf                         # OLED控制芯片手册
│   ├── ZJY242I0400WG01.pdf                # OLED显示模块规格说明
│   ├── W25Q128JVSIQ技术文档.pdf            # 外部存储器规格说明
│   ├── NTC热敏电阻RT值.csv                  # NTC温度对照表
│   └── 文件功能说明.csv                     # 代码文件功能说明
│
└── README.md          # 项目说明文件
```

### 文件说明

#### 核心功能模块文件
1. **主控制模块**
   - `main.c/h`：主程序文件，包含系统初始化、主循环和基本配置
   - `gpio.c/h`：GPIO引脚初始化和控制，包含所有引脚的配置和基本操作函数

2. **切换控制模块**
   - `switch_control.c/h`：实现三通道切换的核心控制逻辑
   - `relay_control.c/h`：继电器控制实现，包含继电器的驱动和状态检测功能

3. **温度控制模块**
   - `temperature.c/h`：温度采集和监控功能实现
   - `fan_control.c/h`：风扇PWM控制和转速检测功能实现

4. **显示和报警模块**
   - `oled_display.c/h`：OLED显示驱动和界面显示功能实现
   - `alarm.c/h`：系统报警逻辑和报警输出控制实现

#### 外设驱动模块文件
1. **通信接口**
   - `i2c.c/h`：I2C通信配置和驱动，用于OLED显示屏通信
   - `spi.c/h`：SPI通信配置和驱动，预留用于外部存储器通信
   - `usart.c/h`：串口通信配置和驱动，用于调试输出和RS485通信

2. **定时器和ADC**
   - `tim.c/h`：定时器配置，用于风扇PWM输出和各类定时功能
   - `adc.c/h`：ADC配置和驱动，用于温度传感器数据采集
   - `dma.c/h`：DMA配置，用于ADC数据传输和其他需要DMA的场景

3. **系统配置文件**
   - `iwdg.c/h`：独立看门狗配置和驱动，用于系统监控
   - `stm32f1xx_hal_conf.h`：HAL库配置文件，定义使用的HAL模块
   - `stm32f1xx_hal_msp.c`：HAL库底层初始化和配置实现
   - `stm32f1xx_it.c/h`：中断服务程序，处理所有系统中断
   - `system_stm32f1xx.c`：系统时钟配置和底层初始化实现

#### 文件功能详细说明

1. **switch_control.c/h**
   - 实现三通道切换的核心控制逻辑
   - 包含使能信号检测和防抖处理
   - 实现通道互锁和安全检查功能
   - 处理切换状态反馈和异常检测

2. **relay_control.c/h**
   - 实现继电器驱动控制
   - 包含继电器状态检测和反馈
   - 实现继电器动作时序控制
   - 处理继电器异常状态检测

3. **temperature.c/h**
   - 实现NTC温度传感器数据采集
   - 包含温度值计算和查表转换
   - 实现温度阈值判断和报警触发
   - 处理温度数据滤波和平均值计算

4. **fan_control.c/h**
   - 实现风扇PWM控制功能
   - 包含风扇转速检测和计算
   - 实现温度联动控制逻辑
   - 处理风扇故障检测和报警

5. **alarm.c/h**
   - 实现系统报警逻辑处理
   - 包含各类异常状态判断
   - 实现报警输出控制
   - 处理蜂鸣器报警模式控制

6. **oled_display.c/h**
   - 实现OLED显示驱动
   - 包含显示界面布局设计
   - 实现状态和参数显示更新
   - 处理系统启动画面和异常显示

7. **adc.c/h**
   - 配置ADC采样参数
   - 实现多通道采样控制
   - 包含DMA传输配置
   - 处理采样数据预处理

8. **i2c.c/h**
   - 配置I2C通信参数
   - 实现OLED显示通信
   - 包含通信错误处理
   - 实现I2C总线状态监控

9. **tim.c/h**
   - 配置定时器参数
   - 实现PWM输出控制
   - 包含定时中断处理
   - 实现系统时基功能

10. **usart.c/h**
    - 配置串口通信参数
    - 实现调试信息输出
    - 包含数据收发控制
    - 实现通信协议处理

11. **iwdg.c/h**
    - 配置独立看门狗参数
    - 实现系统监控功能
    - 包含喂狗时序控制
    - 处理系统复位触发




## 开发计划与进度

### ? 开发状态总览
- ? **第一阶段**: 前期准备 、
- ? **第二阶段**: 基础驱动开发 、
- ? **第三阶段第一步**: 继电器控制模块开发 、
- ? **第三阶段第二步**: 温度控制模块开发 、
- ? **第三阶段第三步**: OLED显示模块开发、
- ? **第四阶段**: 报警控制模块开发 、
- ? **第五阶段**: 系统集成与测试 、

### 一、前期准备 
1. **仔细阅读所有文档** 
   - 分析README.md中的所有需求
   - 研究DOC文件夹中的硬件规格书
   - 学习demo文件夹中的示例代码

2. **确认硬件配置** 
   - 确认STM32F103RCT6的配置正确性
   - 验证CUBEMX生成的配置
   - 检查所有引脚定义

### 二、基础驱动开发 
1. **串口调试模块** 
   - 配置USART3（PC10/PC11）
   - 实现调试信息输出功能
   - 用于开发调试和状态监控

2. **GPIO驱动模块** 
   - 配置所有输入输出引脚
   - 实现中断配置（按优先级）：
     * DC_CTRL（优先级2）  （没有测试）
     * K1_EN、K2_EN、K3_EN（优先级4）
     * ADC中断（优先级5）（没有测试）

3. **看门狗模块** 
   - 按规则7配置IWDG：
     * 64预分频
     * 1250重载值
     * 1秒喂狗周期

### 三、核心功能开发
1. **继电器控制模块**
   - 实现规则2要求的控制逻辑：
     * 50ms间隔3次检测
     * 500ms低电平脉冲
     * 500ms后状态检测
   - 实现12路继电器控制
   - 实现9路状态反馈检测

2. **温度控制模块**
   - 配置ADC和DMA
   - 实现规则3的温度控制：
     * <35℃时风扇50%PWM
     * ≥35℃时风扇95%PWM
     * ≥60℃触发异常
     * 2℃回差机制
   - 实现风扇PWM控制和转速检测

3. **OLED显示模块**
   - 配置I2C1接口
   - 实现SSD1309驱动
   - 按规则6实现三区域显示：
     * 异常信息区
     * 通道状态区
     * 温度风扇区

4. **报警控制模块**
   - 实现规则4的报警控制：
     * ALARM持续低电平输出
     * 三种蜂鸣器报警方式
   - 实现规则5的报警解除机制

### 四、系统集成
1. **启动流程实现**
   - 按规则1实现启动流程：
     * 2秒LOGO显示
     * 3秒自检及进度条
     * 自检异常处理

2. **异常处理系统**
   - 实现14类异常检测（A-N）
   - 实现异常状态存储
   - 实现异常优先级管理
   - 实现异常显示和报警联动

3. **安全机制实现**
   - 实现规则8的安全要求：
     * 通道互锁
     * 双重继电器控制
     * 状态反馈检查
     * 温度保护

### 五、测试验证
1. **模块测试**
   - 继电器控制测试
   - 温度控制测试
   - 显示功能测试
   - 报警功能测试

2. **系统测试**
   - 启动流程测试
   - 异常处理测试
   - 安全机制测试
   - 长期稳定性测试

### 开发规范
1. **代码规范**
   - 所有代码添加中文注释
   - 遵循原有目录结构
   - 参考demo示例代码
   - 模块化设计

2. **测试规范**
   - 每个模块完成后进行测试
   - 测试通过后再进行下一步
   - 记录所有测试结果
   - 发现问题及时修正

3. **文档规范**
   - 及时更新开发文档
   - 记录测试报告
   - 编写使用说明
   - 整理技术文档

注意事项：
1. 严格遵循SIL3安全级别要求
2. 确保代码的可靠性和安全性
3. 保持良好的代码结构和注释
4. 重视异常处理和保护机制



